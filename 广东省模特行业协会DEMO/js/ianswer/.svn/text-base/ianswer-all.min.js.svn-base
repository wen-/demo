/*
 * Copyright (C) 2010 - 2011 广州羿安信息科技有限公司
 * Guangzhou ianswer information technology co. ltd.
 * 
 * All rights reserved!
 */
var BooleanHelper={};BooleanHelper.TRUE_STR="true";BooleanHelper.FALSE_STR="false";BooleanHelper.isTrue=function(a){if(BooleanHelper.isBooleanType(a)){return a}return a?a.toLowerCase()==BooleanHelper.TRUE_STR:false};BooleanHelper.isFalse=function(a){if(BooleanHelper.isBooleanType(a)){return a}return a?a.toLowerCase()==BooleanHelper.FALSE_STR:false};BooleanHelper.isBooleanType=function(a){return typeof a=="boolean"};BooleanHelper.isInsertOperation=function(a){return"insert"==a};BooleanHelper.isUpdateOperation=function(a){return"update"==a};BooleanHelper.isValidState=function(a){return"1"==a};BooleanHelper.isInvalidState=function(a){return"0"==a};
var IANSWER_SEPARATOR="-_-";var Common={browser:(function(){var a=navigator.userAgent.toLowerCase(),f=/(webkit)[ \/]([\w.]+)/,c=/(chrome)[ \/]([\w.]+)/,b=/(opera)(?:.*version)?[ \/]([\w.]+)/,g=/(msie) ([\w.]+)/,e=/(mozilla)(?:.*? rv:([\w.]+))?/,h=/(maxthon)[ \/]([\w.]+)/;var d=c.exec(a)||h.exec(a)||g.exec(a)||b.exec(a)||f.exec(a)||a.indexOf("compatible")<0&&e.exec(a)||[];var i={};if(d[1]){i[d[1]]=true}i.version=d[2]||"0";return i})()};function calculateHeight(b){var f=document.documentElement.clientHeight;if($.browser.mozilla){f=document.body.clientHeight}if(!b){return f}var e=15;if(b.constructor!=window.Array){b=b.split(",")}for(var d in b){var a=b[d];var c=$("#"+a);if(c!=null&&c.size()>0){e=e+c.height()}}result=f-e;return result}function serializeForm(e,d){var b="";var c=$("#"+e).serializeArray();var a=c.length;$.each(c,function(f,h){var g=d?encodeURIComponent(h.value):h.value;b+=h.name+"="+g;if(f!=a-1){b+="&"}});return b}function serializeObject(d,c){var a={};var b=$("#"+d).serializeArray();$.each(b,function(e,g){var f=c?encodeURIComponent(g.value):g.value;a[g.name]=f});return a}function showDetailWindow(d,b){var a=window.screen.height*0.7;var e=window.screen.width*0.7;var h=(window.screen.height-a)/2;var g=(window.screen.width-e)/2;if(!b){var c=new Date();b=c.getSeconds()}var f=window.open(d,b,"toolbar=no,menubar=no,location=no,scrollbars=yes,status=yes,resizable=yes,width="+e+",height="+a+",top="+h+",left="+g);f.focus();return}function openWindow(a,i,e,b){var g=(screen.availHeight-e)/2;var c=(screen.availWidth-i)/2;var j="width="+i+",height="+e+",";j+="status=yes,scrollbars=yes,,resizable=yes,location=no,menubar=no,toolbar=no,directories=no,top="+g+",left="+c;if(!b){var d=new Date();b=d.getSeconds()}b=b+"ianswer";var f=window.open(a,b,j);f.focus();return f}function openFullWindow(a,b){var g=0;var c=0;var i=(window.screen.availWidth-10);var e=(window.screen.availHeight-50);var j="width="+i+",height="+e+",";j+="status=yes,scrollbars=yes,resizable=yes,location=no,menubar=no,toolbar=no,directories=no,top="+g+",left="+c;if(!b){var d=new Date();b=d.getSeconds()}b=b+"ianswer";var f=window.open(a,b,j);f.focus();return f}function openShowModal(d,g,b,c){if(typeof c=="undefined"){c=""}if(d.indexOf("?")==-1){d+="?_="+(new Date()).getTime()}else{d+="&_="+(new Date()).getTime()}try{top.showModelDialogNumber=top.showModelDialogNumber+1}catch(h){}if(Common.browser.msie&&Common.browser.version<7){b=b+35;g=g+5}var f="dialogHeight:"+b+"px;dialogLeft:(screen.width/2-195/2)px;dialogTop:(screen.height/2-195/2)px;dialogWidth:"+g+"px;center:yes;resizable:yes;scroll:yes;status:no;";var a=window.showModalDialog(d,c,f);try{top.showModelDialogNumber=top.showModelDialogNumber-1}catch(h){}return a}function openShowModeless(d,f,a,c){if(typeof c=="undefined"){c=""}var b=0;if($.browser.msie&&$.browser.version.charAt(0)=="6"){b=25}a+=b;var e="dialogHeight:"+a+"px;dialogLeft:(screen.width/2-195/2)px;dialogTop:(screen.height/2-195/2)px;dialogWidth:"+f+"px;center:yes;resizable:yes;scroll:yes;status:no;Minimize=yes;location:no";return window.showModelessDialog(d,c,e)}function reloadLocation(c){var b=document.createElement("a");b.href=c;document.body.appendChild(b);b.click()}function splitReturnValue(a,b){b=b||IANSWER_SEPARATOR;if(a){return a.split(b)}return null}function setSelectReadOnly(a){if(a){a.onbeforeactivate=function(){return false};a.onfocus=function(){a.blur()};a.onmouseover=function(){a.setCapture()};a.onmouseout=function(){a.releaseCapture()}}}function big(b){var a=parseInt(b.style.zoom,10)||100;a+=window.event.wheelDelta/12;if(a>0){b.style.zoom=a+"%"}return false}function checkAtLeastOneCondition(d,g){g=g||"请输入查询条件！";if(!d){return true}for(var c=0,a=d.length;c<a;c++){if($(d[c]).is(":disabled")){continue}var e=$(d[c]);for(var b=0,f=e.length;b<f;b++){if($.trim($(e[b]).val())){return true}}}window.alert(g);return false}function onlyAcceptNumeric(d,e,b){d=d||window.event;b=b||false;var c=d.keyCode||d.which;if(b&&c==46){stopEvent(d);return}if((c<48||c>57)&&c!=46){stopEvent(d);return}else{if(c==46){var a=$(e).val();if(a.indexOf(".")!=-1||a.length==0){stopEvent(d);return}}}}function stopEvent(a){stopPropagation(a);preventDefault(a)}function stopPropagation(a){a=a||window.event;if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}}function preventDefault(a){a=a||window.event;if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}}function isEnterKeyPressed(a){return a&&(a.keyCode||a.which)==13};
var CookieHelper={WHOLE_YEAR:365,WEEK:7,MONTH:30,set:function(b,c,e){var d=new Date();d.setDate(d.getDate()+(e==null?CookieHelper.WEEK:e));var a=b+"="+escape(c)+((e==null)?"":";expires="+d.toGMTString());document.cookie=a},get:function(b){if(!b||document.cookie.length<=0){return""}var c=document.cookie.indexOf(b+"=");if(c==-1){return""}c=c+b.length+1;var a=document.cookie.indexOf(";",c);if(a==-1){a=document.cookie.length}return unescape(document.cookie.substring(c,a))},remove:function(b){var c=new Date();c.setFullYear(c.getFullYear()-1);var a=" "+b+"=;expires="+c+";";document.cookie=a}};
var DialogHelper={};DialogHelper._modalDialogIframeId="jd-m-dialog-iframe";DialogHelper._modalDialogCallback="callback";DialogHelper._modalDialogClose="modal_dialog_close";DialogHelper.openModalDialog=function(a,b,j,h,i,g){b=b||800,j=j||500;var c=30;var f=30;var d={autoOpen:false,width:b,height:j,modal:true,resizable:false,autoResize:false};var k=$("#"+DialogHelper._modalDialogIframeId);if(k.length==0){var e='<iframe id="'+DialogHelper._modalDialogIframeId+'" />';k=$(e).dialog(d)}k.attr("src",a).dialog("option","title",h).dialog("option","width",b).dialog("option","height",j).dialog("option","buttons",g||{}).dialog("open").width(b-c).height(j-f);k[0][DialogHelper._modalDialogCallback]=i||false;k[0][DialogHelper._modalDialogClose]=function(){k.dialog("close")}};DialogHelper.returnValue=function(b){var a=parent.document.getElementById(DialogHelper._modalDialogIframeId);if(!a){return}a[DialogHelper._modalDialogClose]();var c=a[DialogHelper._modalDialogCallback];c&&c(b)};DialogHelper._infoDialog="jd-info-dialog";DialogHelper._infoHtml='<div style="display:none;" id="'+DialogHelper._infoDialog+'"></div>';DialogHelper.info=function(a,b,c){DialogHelper._messageDialog(DialogHelper._infoDialog,DialogHelper._infoHtml,a,b||"提示",c)};DialogHelper._messageDialog=function(f,a,b,d,e){var c=$("#"+f);if(c.length==0){$("body").append(a);c=$("#"+f)}c.html(b).dialog({modal:true,title:d,autoOpen:true,buttons:{"确定":function(){$(this).dialog("close");e&&e()}}})};DialogHelper._succDialog="jd-succ-dialog";DialogHelper._succHtml='<div style="display:none;" id="'+DialogHelper._succDialog+'"></div>';DialogHelper.succ=function(a,b,c){DialogHelper._messageDialog(DialogHelper._succDialog,DialogHelper._succHtml,a,b||"成功",c)};DialogHelper._failDialog="jd-fail-dialog";DialogHelper._failHtml='<div style="display:none;" id="'+DialogHelper._failDialog+'"></div>';DialogHelper.fail=function(a,b,c){DialogHelper._messageDialog(DialogHelper._failDialog,DialogHelper._failHtml,a,b||"出错啦",c)};DialogHelper._confirmDialog="jd-confirm-dialog";DialogHelper._confirmHtml='<div style="display:none;" id="'+DialogHelper._confirmDialog+'"></div>';DialogHelper.confirm=function(b,e,d,a){var c=$("#"+DialogHelper._confirmDialog);if(c.length==0){$("body").append(DialogHelper._confirmHtml);c=$("#"+DialogHelper._confirmDialog)}c.html(b).dialog({modal:true,title:e||"确定？",autoOpen:true,resizable:false,buttons:{"确定":function(){$(this).dialog("close");d&&d()},"取消":function(){$(this).dialog("close");a&&a()}}})};
var jsonParse=(function(){var e="(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)";var j='(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))';var i='(?:"'+j+'*")';var d=new RegExp("(?:false|true|null|[\\{\\}\\[\\]]|"+e+"|"+i+")","g");var k=new RegExp("\\\\(?:([^u])|u(.{4}))","g");var g={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function h(l,m,n){return m?g[m]:String.fromCharCode(parseInt(n,16))}var c=new String("");var a="\\";var f={"{":Object,"[":Array};var b=Object.hasOwnProperty;return function(u,q){var p=u.match(d);var x;var v=p[0];var l=false;if("{"===v){x={}}else{if("["===v){x=[]}else{x=[];l=true}}var t;var r=[x];for(var o=1-l,m=p.length;o<m;++o){v=p[o];var w;switch(v.charCodeAt(0)){default:w=r[0];w[t||w.length]=+(v);t=void 0;break;case 34:v=v.substring(1,v.length-1);if(v.indexOf(a)!==-1){v=v.replace(k,h)}w=r[0];if(!t){if(w instanceof Array){t=w.length}else{t=v||c;break}}w[t]=v;t=void 0;break;case 91:w=r[0];r.unshift(w[t||w.length]=[]);t=void 0;break;case 93:r.shift();break;case 102:w=r[0];w[t||w.length]=false;t=void 0;break;case 110:w=r[0];w[t||w.length]=null;t=void 0;break;case 116:w=r[0];w[t||w.length]=true;t=void 0;break;case 123:w=r[0];r.unshift(w[t||w.length]={});t=void 0;break;case 125:r.shift();break}}if(l){if(r.length!==1){throw new Error()}x=x[0]}else{if(r.length){throw new Error()}}if(q){var s=function(C,B){var D=C[B];if(D&&typeof D==="object"){var n=null;for(var z in D){if(b.call(D,z)&&D!==C){var y=s(D,z);if(y!==void 0){D[z]=y}else{if(!n){n=[]}n.push(z)}}}if(n){for(var A=n.length;--A>=0;){delete D[n[A]]}}}return q.call(C,B,D)};x=s({"":x},"")}return x}})();
var MimeTypes={baseImagePath:"/images/mimetypes/"};MimeTypes.mimeTypeMap={pdf:"pdf.png",ppt:"powerpoint.png",pptx:"powerpoint.png",doc:"word.png",docx:"word.png",xls:"excel.png",xlsx:"excel.png",csv:"csv.png",rar:"rar.png",zip:"rar.png",tar:"rar.png",gz:"rar.png",txt:"text.png",swf:"flash.png",jpg:"pictures.png",jpeg:"pictures.png",gif:"pictures.png",png:"pictures.png",bmp:"pictures.png",unknown:"unknown.png"};MimeTypes.fromFileName=function(d,a){var b=d.lastIndexOf(".");var c=d.substring(b+1,d.length);return MimeTypes.fromExtension(c,a)};MimeTypes.fromExtension=function(c,a){c=c.toLowerCase();var b=MimeTypes.mimeTypeMap[c];if(!b){b=MimeTypes.mimeTypeMap.unknown}return'<img src="'+(a||window.ctx)+MimeTypes.baseImagePath+b+'" />'};
var ShowHelper={};ShowHelper.open=function(c,g){var j=20;var i=-10;var l=$("#"+g);var k=$(window).height();var d=$(window).width();var h=$(window).scrollTop();var e=$(window).scrollLeft();var f=l.outerWidth();var b=l.outerHeight();var a=c.pageX+j-f;var m=c.pageY+i-b;l.css("top",m+"px").css("left",a+"px").show()};ShowHelper.close=function(a){$("#"+a).hide()};
var TinygridHelper={};TinygridHelper.addCheckAllFunction=function(b){var a=$("input[@name="+b+"]:not(:disabled)");if(event.srcElement.checked){a.prop("checked",true)}else{a.prop("checked",false)}};TinygridHelper.checkOnlyOne=function(c,b){var a=c.length;if(!b){b="操作"}if(a<1){window.alert("请选择一行进行"+b+"！");return false}if(a>1){window.alert("只能选择一行进行"+b+"！");return false}return true};TinygridHelper.checkAtLeastOne=function(c,b){var a=c.length;if(!b){b="操作"}if(a<1){window.alert("请至少选择一行进行"+b+"！");return false}return true};TinygridHelper.checkAtLeastTwo=function(c,b){var a=c.length;if(!b){b="操作"}if(a<2){window.alert("请至少选择两行进行"+b+"！");return false}return true};TinygridHelper.renderInvalidRow=function(a){return"0"==a?"lightred":false};
